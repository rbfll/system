# 시스템 호출과 라이브러리의 관계

---

## 📌 1. 시스템 호출(System Call)이란?

운영체제가 제공하는 **서비스(기능)**를 응용 프로그램이 요청할 수 있도록 하는 **인터페이스**입니다.

- **예:** 파일 읽기/쓰기, 메모리 할당, 프로세스 생성 등  
- **사용 예:** `read()`, `write()`, `fork()`, `exec()`, `open()`



## 📌 2. 라이브러리(Library)란?

자주 사용하는 함수들을 묶어놓은 **코드 집합**으로, 응용 프로그램이 **쉽게 기능을 사용할 수 있도록 도와줍니다**.

- **예:** C 표준 라이브러리(`libc`), 수학 라이브러리, 그래픽 라이브러리 등  
- 라이브러리는 **직접 시스템 호출을 포함할 수도 있고, 포함하지 않을 수도 있습니다.**



## 🔗 시스템 호출과 라이브러리의 관계

| **측면**       | **설명** |
|----------------|----------|
| **역할**       | 시스템 호출은 운영체제 기능 접근, 라이브러리는 이를 감싸서 사용하기 쉽게 제공 |
| **중간 역할**  | 라이브러리는 시스템 호출을 **추상화**하여 프로그래머가 복잡한 OS 인터페이스를 직접 다루지 않게 함 |
| **예시**       | `printf()`는 내부적으로 `write()` 시스템 호출을 사용하여 출력함 |
| **접근 방법**  | 시스템 호출은 보통 어셈블리나 특수 인터럽트를 통해 접근하지만, 라이브러리는 고수준 언어에서 호출 가능 |

---

# 📚 man 섹션 번호와 의미

`man` 명령어는 여러 **섹션**으로 나뉘어 있으며, 각 숫자는 매뉴얼의 다른 범주를 나타냅니다.

| **섹션 번호** | **내용** |
|---------------|----------|
| 1 | 사용자 명령어 (일반 명령어) |
| 2 | 시스템 호출 (커널에서 제공하는 함수) |
| 3 | 라이브러리 호출 (C 라이브러리 함수 등) |
| 4 | 특수 파일 (디바이스 파일 등) |
| 5 | 파일 형식 (구성 파일 포맷 등) |
| 6 | 게임 |
| 7 | 기타 (매크로, 규약, 프로토콜 등) |
| 8 | 시스템 관리자용 명령어 (root용) |
| 9 | 커널 루틴 (일반적으로 사용자 시스템에는 없음) |

---

# 📌 확장자 외에 파일 종류를 구분하는 방법



## 1. `file` 명령어 (리눅스/유닉스에서 사용)

- 파일 내용을 분석하여 **매직 넘버(Magic Number)**나 기타 메타데이터를 이용해 파일 형식을 판단합니다.



## 2. 매직 넘버(Magic Number)

- 파일의 **처음 몇 바이트에 저장된 고유한 식별자**입니다.
- 파일 포맷마다 고유한 서명이 있으며, 이를 통해 파일을 식별할 수 있습니다.

| **파일 형식**           | **매직 넘버 (16진수)** | **ASCII 표현** |
|-------------------------|------------------------|----------------|
| PNG                     | `89 50 4E 47`          | ‰PNG           |
| PDF                     | `25 50 44 46`          | %PDF           |
| ZIP                     | `50 4B 03 04`          | PK..           |
| ELF (리눅스 실행 파일) | `7F 45 4C 46`          | .ELF           |



## 3. 파일 시스템의 메타데이터

- `stat`, `ls -l`, `ls -F` 명령어를 통해 파일의 **종류(디렉터리, 심볼릭 링크, 특수 장치 파일 등)**를 확인할 수 있습니다.


## 4. 헤더 분석 (프로그래밍 방식)

- C, Python 등의 언어로 파일을 열어 **처음 몇 바이트를 읽고 파일 포맷을 식별**할 수 있습니다.
- 이는 매직 넘버를 직접 확인하는 방식으로, 자동화 도구를 만들거나 파일 검사기 구현 시 유용합니다.
